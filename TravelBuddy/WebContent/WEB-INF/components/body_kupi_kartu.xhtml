<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head />
    <ui:composition>
		<h1>Unesite podatke za uplatu</h1>
		<h:form id="placanjeForm">
	    	<h:panelGrid columns="2">
	    		<h:outputText value="Ime"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.ime}" requiredMessage="Unesite ime!" required="true"/>
	    		<h:outputText value="Prezime"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.prezime}" requiredMessage="Unesite prezime!" required="true"/>
	    		<h:outputText value="E-mail"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.email}" requiredMessage="Unesite e-mail!" required="true"/>
	    		<h:outputText value="Broj kartice"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.brojKartice}" requiredMessage="Unesite broj kartice!" required="true"/>
	    		<h:outputText value="CVC"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.cvc}" requiredMessage="Unesite cvc kartice!" required="true"/>
	    		<h:outputText value="Datum isteka"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.datumIsteka}" requiredMessage="Unesite datum isteka kartice!" required="true" validatorMessage="Unesite datum isteka u formatu MM/yyyy ili MM/yy">
	    			<f:validateRegex pattern="(0[1-9]|10|11|12)\/((20[0-9]{2}$)|([0-9]{2}))"></f:validateRegex>
	    		</h:inputText>
	    		<h:outputText value="Tip kartice"/>
	    		<h:inputText value="#{kupiKartuBean.klijent.tipKartice}" requiredMessage="Unesite tip kartice!" required="true"/>
	    		<h:outputText value="Podaci o karti"></h:outputText>
	    		<h:outputText value="#{kupiKartuBean.karta}"/>
	    		<h:commandButton value="Kupi" action="#{kupiKartuBean.izvrsiUplatu}">
	    			<f:ajax execute="@form" render="placanjeMessages"/>
	    		</h:commandButton>
	    		<h:outputText value=""></h:outputText>
	    		<h:outputText value=""></h:outputText>
	    		<h:messages id="placanjeMessages"/>
	    		
	    	</h:panelGrid>
    	</h:form>
    </ui:composition>    
</html>